!function (e) { e.extend({ scrollToTop: function () { var t = !1; e("body").append(e("<a />").addClass("scroll-to-top").attr({ href: "#", id: "scrollToTop" }).append(e("<i />").addClass("icon icon-chevron-up icon-white"))), e("#scrollToTop").click(function (t) { return t.preventDefault(), e("body, html").animate({ scrollTop: 0 }, 500), !1 }), e(window).scroll(function () { t || (t = !0, e(window).scrollTop() > 150 ? (e("#scrollToTop").stop(!0, !0).addClass("visible"), t = !1) : (e("#scrollToTop").stop(!0, !0).removeClass("visible"), t = !1)) }) } }) }(jQuery), function (e) { e.extend({ browserSelector: function () { var e = navigator.userAgent, t = e.toLowerCase(), o = function (e) { return t.indexOf(e) > -1 }, n = "gecko", r = "webkit", a = "safari", i = "opera", l = document.documentElement, s = [!/opera|webtv/i.test(t) && /msie\s(\d)/.test(t) ? "ie ie" + parseFloat(navigator.appVersion.split("MSIE")[1]) : o("firefox/2") ? n + " ff2" : o("firefox/3.5") ? n + " ff3 ff3_5" : o("firefox/3") ? n + " ff3" : o("gecko/") ? n : o("opera") ? i + (/version\/(\d+)/.test(t) ? " " + i + RegExp.jQuery1 : /opera(\s|\/)(\d+)/.test(t) ? " " + i + RegExp.jQuery2 : "") : o("konqueror") ? "konqueror" : o("chrome") ? r + " chrome" : o("iron") ? r + " iron" : o("applewebkit/") ? r + " " + a + (/version\/(\d+)/.test(t) ? " " + a + RegExp.jQuery1 : "") : o("mozilla/") ? n : "", o("j2me") ? "mobile" : o("iphone") ? "iphone" : o("ipod") ? "ipod" : o("mac") ? "mac" : o("darwin") ? "mac" : o("webtv") ? "webtv" : o("win") ? "win" : o("freebsd") ? "freebsd" : o("x11") || o("linux") ? "linux" : "", "js"]; c = s.join(" "), l.className += " " + c } }) }(jQuery), function (e) { e.extend({ smoothScroll: function () { function e() { var e = !1; if (document.URL.indexOf("google.com/reader/view") > -1 && (e = !0), b.excluded) { var t = b.excluded.split(/[,\n] ?/); t.push("mail.google.com"); for (var o = t.length; o--;) if (document.URL.indexOf(t[o]) > -1) { w && w.disconnect(), s("mousewheel", n), e = !0, y = !0; break } } e && s("keydown", r), b.keyboardSupport && !e && c("keydown", r) } function t() { if (document.body) { var t = document.body, o = document.documentElement, n = window.innerHeight, r = t.scrollHeight; if (S = document.compatMode.indexOf("CSS") >= 0 ? o : t, v = t, e(), T = !0, top != self) x = !0; else if (r > n && (t.offsetHeight <= n || o.offsetHeight <= n)) { var a = !1, i = function () { a || o.scrollHeight == document.height || (a = !0, setTimeout(function () { o.style.height = document.height + "px", a = !1 }, 500)) }; o.style.height = "auto", setTimeout(i, 10); var l = { attributes: !0, childList: !0, characterData: !1 }; if (w = new N(i), w.observe(t, l), S.offsetHeight <= n) { var c = document.createElement("div"); c.style.clear = "both", t.appendChild(c) } } if (document.URL.indexOf("mail.google.com") > -1) { var s = document.createElement("style"); s.innerHTML = ".iu { visibility: hidden }", (document.getElementsByTagName("head")[0] || o).appendChild(s) } else if (document.URL.indexOf("www.facebook.com") > -1) { var u = document.getElementById("home_stream"); u && (u.style.webkitTransform = "translateZ(0)") } b.fixedBackground || y || (t.style.backgroundAttachment = "scroll", o.style.backgroundAttachment = "scroll") } } function o(e, t, o, n) { if (n || (n = 1e3), d(t, o), 1 != b.accelerationMax) { var r = +new Date, a = r - E; if (a < b.accelerationDelta) { var i = (1 + 30 / a) / 2; i > 1 && (i = Math.min(i, b.accelerationMax), t *= i, o *= i) } E = +new Date } if (M.push({ x: t, y: o, lastX: 0 > t ? .99 : -.99, lastY: 0 > o ? .99 : -.99, start: +new Date }), !H) { var l = e === document.body, c = function () { for (var r = +new Date, a = 0, i = 0, s = 0; s < M.length; s++) { var u = M[s], d = r - u.start, f = d >= b.animationTime, m = f ? 1 : d / b.animationTime; b.pulseAlgorithm && (m = h(m)); var p = u.x * m - u.lastX >> 0, v = u.y * m - u.lastY >> 0; a += p, i += v, u.lastX += p, u.lastY += v, f && (M.splice(s, 1), s--) } l ? window.scrollBy(a, i) : (a && (e.scrollLeft += a), i && (e.scrollTop += i)), t || o || (M = []), M.length ? R(c, e, n / b.frameRate + 1) : H = !1 }; R(c, e, 0), H = !0 } } function n(e) { T || t(); var n = e.target, r = l(n); if (!r || e.defaultPrevented || u(v, "embed") || u(n, "embed") && /\.pdf/i.test(n.src)) return !0; var a = e.wheelDeltaX || 0, i = e.wheelDeltaY || 0; return a || i || (i = e.wheelDelta || 0), !b.touchpadSupport && f(i) ? !0 : (Math.abs(a) > 1.2 && (a *= b.stepSize / 120), Math.abs(i) > 1.2 && (i *= b.stepSize / 120), o(r, -a, -i), void e.preventDefault()) } function r(e) { var t = e.target, n = e.ctrlKey || e.altKey || e.metaKey || e.shiftKey && e.keyCode !== D.spacebar; if (/input|textarea|select|embed/i.test(t.nodeName) || t.isContentEditable || e.defaultPrevented || n) return !0; if (u(t, "button") && e.keyCode === D.spacebar) return !0; var r, a = 0, i = 0, c = l(v), s = c.clientHeight; switch (c == document.body && (s = window.innerHeight), e.keyCode) { case D.up: i = -b.arrowScroll; break; case D.down: i = b.arrowScroll; break; case D.spacebar: r = e.shiftKey ? 1 : -1, i = -r * s * .9; break; case D.pageup: i = .9 * -s; break; case D.pagedown: i = .9 * s; break; case D.home: i = -c.scrollTop; break; case D.end: var d = c.scrollHeight - c.scrollTop - s; i = d > 0 ? d + 10 : 0; break; case D.left: a = -b.arrowScroll; break; case D.right: a = b.arrowScroll; break; default: return !0 } o(c, a, i), e.preventDefault() } function a(e) { v = e.target } function i(e, t) { for (var o = e.length; o--;) I[j(e[o])] = t; return t } function l(e) { var t = [], o = S.scrollHeight; do { var n = I[j(e)]; if (n) return i(t, n); if (t.push(e), o === e.scrollHeight) { if (!x || S.clientHeight + 10 < o) return i(t, document.body) } else if (e.clientHeight + 10 < e.scrollHeight && (overflow = getComputedStyle(e, "").getPropertyValue("overflow-y"), "scroll" === overflow || "auto" === overflow)) return i(t, e) } while (e = e.parentNode) } function c(e, t, o) { window.addEventListener(e, t, o || !1) } function s(e, t, o) { window.removeEventListener(e, t, o || !1) } function u(e, t) { return (e.nodeName || "").toLowerCase() === t.toLowerCase() } function d(e, t) { e = e > 0 ? 1 : -1, t = t > 0 ? 1 : -1, (k.x !== e || k.y !== t) && (k.x = e, k.y = t, M = [], E = 0) } function f(e) { if (e) { e = Math.abs(e), C.push(e), C.shift(), clearTimeout(L); var t = C[0] == C[1] && C[1] == C[2], o = m(C[0], 120) && m(C[1], 120) && m(C[2], 120); return !(t || o) } } function m(e, t) { return Math.floor(e / t) == e / t } function p(e) { var t, o, n; return e *= b.pulseScale, 1 > e ? t = e - (1 - Math.exp(-e)) : (o = Math.exp(-1), e -= 1, n = 1 - Math.exp(-e), t = o + n * (1 - o)), t * b.pulseNormalize } function h(e) { return e >= 1 ? 1 : 0 >= e ? 0 : (1 == b.pulseNormalize && (b.pulseNormalize /= p(1)), p(e)) } var v, w, g = { frameRate: 150, animationTime: 700, stepSize: 80, pulseAlgorithm: !0, pulseScale: 8, pulseNormalize: 1, accelerationDelta: 20, accelerationMax: 1, keyboardSupport: !0, arrowScroll: 50, touchpadSupport: !0, fixedBackground: !0, excluded: "" }, b = g, y = !1, x = !1, k = { x: 0, y: 0 }, T = !1, S = document.documentElement, C = [120, 120, 120], D = { left: 37, up: 38, right: 39, down: 40, spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36 }, M = [], H = !1, E = +new Date, I = {}; setInterval(function () { I = {} }, 1e4); var L, j = function () { var e = 0; return function (t) { return t.uniqueID || (t.uniqueID = e++) } }(), R = function () { return window.requestAnimationFrame || window.webkitRequestAnimationFrame || function (e, t, o) { window.setTimeout(e, o || 1e3 / 60) } }(), N = window.MutationObserver || window.WebKitMutationObserver; c("mousedown", a), c("mousewheel", n), c("load", t) } }) }(jQuery), function (e) { function t(e, t) { return e.toFixed(t.decimals) } e.fn.countTo = function (t) { return t = t || {}, e(this).each(function () { function o() { u += i, s++, n(u), "function" == typeof r.onUpdate && r.onUpdate.call(l, u), s >= a && (c.removeData("countTo"), clearInterval(d.interval), u = r.to, "function" == typeof r.onComplete && r.onComplete.call(l, u)) } function n(e) { var t = r.formatter.call(l, e, r); c.html(t) } var r = e.extend({}, e.fn.countTo.defaults, { from: e(this).data("from"), to: e(this).data("to"), speed: e(this).data("speed"), refreshInterval: e(this).data("refresh-interval"), decimals: e(this).data("decimals") }, t), a = Math.ceil(r.speed / r.refreshInterval), i = (r.to - r.from) / a, l = this, c = e(this), s = 0, u = r.from, d = c.data("countTo") || {}; c.data("countTo", d), d.interval && clearInterval(d.interval), d.interval = setInterval(o, r.refreshInterval), n(u) }) }, e.fn.countTo.defaults = { from: 0, to: 0, speed: 1e3, refreshInterval: 100, decimals: 0, formatter: t, onUpdate: null, onComplete: null } }(jQuery);